@use "vars-scss" as *;

@mixin box($isInset: false, $isRotate: false, $isScrollbar: false, $position: relative) {
    
    position: $position;
    border: 1px solid;

    @if $isInset {
        border-color: $black $white $white $black;
    }

    @else {
        @if $isRotate {
            border-color: $white $white $black $black;
        }

        @else {
            border-color: $white $black $black $white;
        }
    }

    @if not $isScrollbar {
        &::before {
            content: " ";
            position: absolute;
            inset: 0;
            border: 1px solid;
            pointer-events: none;
            z-index: 1;

            @if $isInset {
                border-color: $darkgrey $lightgrey $lightgrey $darkgrey;
            }

            @else {
                @if $isRotate {
                    border-color: $lightgrey $lightgrey $darkgrey $darkgrey;
                }

                @else {
                    border-color: $lightgrey $darkgrey $darkgrey $lightgrey;
                }
            }
        }
    }
}

@mixin clickable($isRotate: false, $position: relative) {
    @include box($isRotate: $isRotate, $position: $position);
    
    &:active {
        @include box($isInset: true, $position: $position);
    }
}

@mixin tab() {
    @include box;
    border-bottom-color: transparent;
    border-radius: 4px 4px 0 0;
    padding: 2px 8px;

    &::before {
        border-bottom: 0;
    }

    &:is(.selected-1sf9UK, :active, :hover) {
        border-bottom-color: transparent;
    }

    &:is(.selected-1sf9UK, :active) {
        background: $grey;
        z-index: 1;
    }
}

@mixin winBar($isPseudo: false, $bgColor: $darkgrey, $text: "") {
    $selector: "&";

    @if $isPseudo {
        $selector: "&::after";
    }

    #{$selector} {
        background: padding-box $bgColor;
        border: 2px solid transparent;
        color: $grey;
        font-size: 1rem;
        font-weight: bold;
        height: 18px;
        line-height: 1.2rem;
        padding: 2px;

        @if $isPseudo {
            content: $text;
            display: block;
            position: absolute;
            z-index: 1;
            inset: 2px 2px auto;
        }
    }
}

@mixin mainWindow() {
    margin: $window-top $window-right $window-bottom $window-left;
    overflow: hidden;
    @include box;
}